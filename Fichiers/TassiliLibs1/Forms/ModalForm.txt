<template>
    <div v-show="tassiliInput.customActionModal"
      style=" position: fixed;top: 0;left: 0;width: 100%;height: 100%;
      background: #DDD;z-index: 1000;">
      
      <div>
        <!-- Bouton de fermeture avec padding-right corrigé -->
        <div class="flex items-center justify-end p-[4px]">
          <div class="mr-[10px]">
            <svg @click="closeForm" width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg" class="cursor-pointer">
              <circle cx="20" cy="20" r="19.5" stroke="black" stroke-width="1" />
              <line x1="11" y1="11" x2="29" y2="29" stroke="black" stroke-width="1" />
              <line x1="29" y1="11" x2="11" y2="29" stroke="black" stroke-width="1" />
            </svg>
          </div>
        </div>
       
        <div class="m-auto mt-[40px] p-[10px]"
          :style="{maxWidth: taille}">
          <template v-if="tassiliInput.formType == 'type1'">
            <conteneur1/>
          </template>
          <template v-if="tassiliInput.formType == 'type2'">
            <conteneur2/>
          </template>
          <template v-if="tassiliInput.formType == 'type3'">
            <conteneur3/>
          </template>
          <template v-if="tassiliInput.formType == 'type4'">
            <conteneur4/>
          </template>
        </div>
      </div>
    </div>
</template>

<script setup>
import { TassiliInput } from '../stores/tassiliInput';
import Conteneur1 from './Conteneur1.vue';
import Conteneur2 from './Conteneur2.vue';
import Conteneur3 from './Conteneur3.vue';
import Conteneur4 from './Conteneur4.vue';
import { computed } from "vue";

const tassiliInput = TassiliInput()

// Fonction de fermeture - testez avec console.log pour déboguer
const closeForm = () => {
  tassiliInput.customActionModal = false
}

const taille = computed(() => tassiliInput.tassiliFormList?.[tassiliInput?.urlCustomValidation]?.info?.modalWidth || '580px');
</script>

<style lang="css" scoped>
</style>